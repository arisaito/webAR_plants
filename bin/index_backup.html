<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width"
    />
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <title>untitled</title>
    <script>
      AFRAME.registerComponent("cursor-listener", {
        init: function() {
          var lastIndex = -1;
          var COLORS = ["red", "green", "blue"];
          this.el.addEventListener("click", function(evt) {
            lastIndex = (lastIndex + 1) % COLORS.length;
            this.setAttribute("material", "color", COLORS[lastIndex]);
            console.log("I was clicked at: ", evt.detail.intersection.point);
          });
        }
      });
    </script>
  </head>
  <body>
    <audio src="src/audio/ bubble.mp3" autoplay loop></audio>
    <a-scene vr-mode-ui="enabled:false" embedded arjs>
      <a-assets> </a-assets>
      <a-entity camera look-controls wasd-controls mouse-cursor>
        <a-entity
          id="cursor"
          cursor="fuse: true; fuseTimeout: 500; rayOrigin: mouse;"
        >
          <!-- position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.08;"
          material="color: #acacac; shader: flat; opacity: 0.6" -->

          <!-- <a-animation
            begin="click"
            easing="ease-in"
            attribute="scale"
            dur="150"
            fill="forwards"
            from="0.1 0.1 0.1"
            to="1 1 1"
          ></a-animation>
          <a-animation
            begin="cursor-fusing"
            easing="ease-in"
            attribute="scale"
            dur="1500"
            fill="backwards"
            from="1 1 1"
            to="0.1 0.1 0.1"
          ></a-animation> -->
        </a-entity>
      </a-entity>
      <!-- <a-entity position="0 0 0" particle-system="preset: dust;"></a-entity> -->
      <a-entity id="target">
        <a-box position="0 3 -10" rotation="30 30 0" color="skyblue"> </a-box>
      </a-entity>

      <!-- <a-entity
        id="cubeWrapper"
        position="-15 -15 -15"
        rotation="0 0 0"
        scale="1 1 1"
        visible="true"
      ></a-entity> -->
    </a-scene>
    <script src="js/cursor01.js"></script>
  </body>
</html>
